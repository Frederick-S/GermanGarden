(function(a){a.fn.scrollUp=function(){return this.each(function(){var b=a(this);a(window).scroll(function(c){if(a(document).scrollTop()>=300){b.css("display","inline")}else{b.css("display","none")}});b.click(function(){a("html, body").animate({scrollTop:a("body").offset().top+"px"},{duration:500,easing:"swing"});return false})})}})(jQuery);(function(c,d){var e={};var a=e.config={scrollUpId:"scroll-up",forvo:{searchTextId:"search-content",searchButtonId:"search",searchWarningId:"warning",searchErrorId:"error",searchingId:"searching",forvoModalDialogId:"forvo-modal-dialog",forvoModalLabelId:"forvo-modal-label",showForvoModalDialogButtonId:"show-modal-dialog",playAudioButtonClassName:"play-audio"},bootstrap:{modalBodyClassName:"modal-body"}};e.executeWaitingJobs=function(l){if(!l){return}var k=l.length,f=0,g="",o,h=[];for(var p=0;p<k;p++){try{g=l[p];h=g.split(".");f=h.length;o=null;for(var n=0;n<f;n++){g=h[n];o=o?o[g]:e[g];if(n===f-1){o()}}}catch(m){b(m)}}};e.forvo={registerForvoAudioEventHandler:function(){d("#"+a.forvo.forvoModalDialogId).delegate("."+a.forvo.playAudioButtonClassName,"click",function(){try{var j=d(this).parent().find("audio").get(0);var k=null;if(j){var h=j.childNodes.length;for(var f=0;f<h;f++){k=j.childNodes[f];if(k.tagName.toLowerCase()==="source"){k.src=k.getAttribute("data-src")}}j.load();j.play()}}catch(g){b(g)}})},initSearch:function(){d("#"+a.forvo.searchButtonId).click(function(){var f=d("#"+a.forvo.searchTextId).val();var i=d("#"+a.forvo.searchWarningId);var g=d("#"+a.forvo.searchErrorId);var h=d("#"+a.forvo.searchingId);if(f===""||f.match(/^\s+$/g)){i.show();g.hide()}else{i.hide();g.hide();h.show();d.ajax({url:"http://apifree.forvo.com/key/f59099477a7fb248dfc9fb53f051b3cb/format/json/callback/pronounce/action/word-pronunciations/word/"+f+"/language/de",jsonpCallback:"pronounce",dataType:"jsonp",type:"jsonp",success:function(r){var q=null;var o=r.items;var k=o.length;var l=d("#"+a.forvo.forvoModalDialogId);var n=l.find("."+a.bootstrap.modalBodyClassName);n.html("");l.find("#"+a.forvo.forvoModalLabelId).text(f+"的所有发音");if(k>0){var j=d('<ul class="list-style-none"></ul>');var p=null;for(var m=0;m<k;m++){q=o[m];if(q.code==="de"){p=d('<li class="margin-5"></li>');p.append('<button type="button" class="btn btn-default btn-sm play-audio"><span class="glyphicon glyphicon-play"></span> 播放</button>');p.append('<audio><source data-src="'+q.pathogg+'" type="audio/ogg"><source data-src="'+q.pathmp3+'" type="audio/mpeg"></audio> By '+q.username+", "+q.country+" ");p.append('<a href="'+q.pathmp3+'">下载 MP3</a>');j.append(p)}}n.append(j)}if(k==0){n.html("<p>没有找到 <strong>"+f+"</strong> 的发音。</p>")}h.hide();d("#"+a.forvo.showForvoModalDialogButtonId).click()},error:function(j,l,k){if(j.statusText!=="success"){h.hide();g.show()}}})}})}};function b(f){if(typeof console!=="undefined"){console.log(f)}}c.GM=e})(window,jQuery);
